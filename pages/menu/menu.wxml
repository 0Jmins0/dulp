<view class="container">
  <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
  <view class="top-nav">
    <view class="nav-left" bindtap="goBack">
      <text class="back-icon">â€¹</text>
      <text class="nav-title">é—¨åº—è‡ªå–</text>
    </view>
    <view class="nav-right">
      <text class="more-dots">â‹¯</text>
      <view class="user-avatar"></view>
    </view>
  </view>
  
  <!-- åˆ†éš”çº¿ -->
  <view class="separator"></view>
  
  <!-- å…¬å‘ŠåŒºåŸŸ -->
  <view class="announcement-section">
    <view class="announcement-left">
      <view class="announcement-icon">!</view>
      <text class="announcement-text">å•†å®¶æš‚æ— å…¬å‘Š</text>
    </view>
    <text class="more-text">æ›´å¤šv</text>
  </view>
  
  <!-- ä¸»å†…å®¹åŒºåŸŸ -->
  <view class="main-content">
    <!-- å·¦ä¾§åˆ†ç±»èœå• -->
    <view class="category-sidebar">
      <scroll-view scroll-y="true" class="category-list">
        <view 
          wx:for="{{categories}}" 
          wx:key="id"
          class="category-item {{item.active ? 'active' : ''}}"
          bindtap="switchCategory"
          data-id="{{item.id}}"
        >
          <text class="category-icon">{{item.icon}}</text>
          <text class="category-name">{{item.name}}</text>
        </view>
      </scroll-view>
    </view>
    
    <!-- å³ä¾§èœå“åˆ—è¡¨ -->
    <view class="dish-content">
      <scroll-view scroll-y="true" class="dish-list">
        <view 
          wx:for="{{dishes}}" 
          wx:key="id"
          wx:if="{{item.categoryId === currentCategory}}"
          class="dish-card"
        >
          <!-- èœå“å›¾ç‰‡ -->
          <view class="dish-image">
            <image src="{{item.image}}" mode="aspectFill" class="dish-img"></image>
          </view>
          
          <!-- èœå“ä¿¡æ¯ -->
          <view class="dish-info">
            <!-- èœå“åç§° -->
            <text class="dish-name">{{item.name}}</text>
            
            <!-- èœå“æè¿° -->
            <text class="dish-description">{{item.description}}</text>
            
            <!-- é”€é‡ä¿¡æ¯ -->
            <text class="dish-sales">é”€é‡{{item.sales}}</text>
            
            <!-- ä»·æ ¼å’Œæ·»åŠ æŒ‰é’® -->
            <view class="dish-bottom">
              <text class="dish-price">Â¥{{item.price}}</text>
              
              <!-- æ•°é‡æ§åˆ¶ -->
              <view class="quantity-control">
                <view 
                  wx:if="{{item.count > 0}}"
                  class="quantity-btn minus-btn" 
                  bindtap="removeFromCart"
                  data-id="{{item.id}}"
                >-</view>
                <text wx:if="{{item.count > 0}}" class="quantity-text">{{item.count}}</text>
                <view 
                  class="quantity-btn plus-btn" 
                  bindtap="addToCart"
                  data-id="{{item.id}}"
                >+</view>
              </view>
            </view>
          </view>
        </view>
      </scroll-view>
    </view>
  </view>
  
  <!-- åº•éƒ¨è´­ç‰©è½¦æ  -->
  <view class="bottom-cart-bar" wx:if="{{cart.length > 0}}">
    <view class="cart-left">
      <view class="location-icon">ğŸ“</view>
      <view class="store-info">
        <text class="store-name">{{storeInfo.name}}</text>
        <text class="store-address">{{storeInfo.address}}</text>
      </view>
    </view>
    
    <view class="cart-right" bindtap="viewCart">
      <text class="total-price">Â¥{{totalPrice}}</text>
      <view class="cart-icon">
        <text class="cart-bag">ğŸ›’</text>
        <text class="cart-count">{{cart.length}}</text>
      </view>
    </view>
  </view>
</view>
